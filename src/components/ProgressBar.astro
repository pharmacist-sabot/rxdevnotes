---
// src/components/ProgressBar.astro
---
<div id="progress-bar" class="progress-bar"></div>

<script>
  function updateProgressBar() {
    const bar = document.getElementById('progress-bar');
    if (!bar) return;
    const totalHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const progress = totalHeight > 0 ? (window.scrollY / totalHeight) * 100 : 0;
    
    bar.style.width = `${progress}%`;
  }

  document.addEventListener('astro:page-load', updateProgressBar);
  window.addEventListener('scroll', updateProgressBar, { passive: true });
  
  updateProgressBar();
</script>

<style>
  .progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 3px; 
    background-color: var(--brand-color);
    width: 0%;
    z-index: 9999;
    transition: width 0.1s linear;
  }
</style>